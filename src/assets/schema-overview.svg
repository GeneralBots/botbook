<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 500">
  <defs>
    <linearGradient id="bgGradSchema" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="tableGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0f3460;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a1a2e;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="500" fill="url(#bgGradSchema)" rx="12"/>

  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="22" font-weight="bold">Database Schema Overview</text>
  <text x="450" y="62" text-anchor="middle" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="12">PostgreSQL + Diesel ORM</text>

  <!-- Organizations Table -->
  <g transform="translate(50, 90)" filter="url(#shadow)">
    <rect width="140" height="100" rx="6" fill="url(#tableGrad)" stroke="#e94560" stroke-width="2"/>
    <rect width="140" height="28" rx="6" fill="#e94560"/>
    <text x="70" y="19" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">organizations</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">name VARCHAR</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">created_at TIMESTAMP</text>
  </g>

  <!-- Bots Table -->
  <g transform="translate(250, 90)" filter="url(#shadow)">
    <rect width="140" height="120" rx="6" fill="url(#tableGrad)" stroke="#4ade80" stroke-width="2"/>
    <rect width="140" height="28" rx="6" fill="#4ade80"/>
    <text x="70" y="19" text-anchor="middle" fill="#1a1a2e" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">bots</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">org_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">name VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">config JSONB</text>
  </g>

  <!-- Users Table -->
  <g transform="translate(50, 280)" filter="url(#shadow)">
    <rect width="140" height="130" rx="6" fill="url(#tableGrad)" stroke="#60a5fa" stroke-width="2"/>
    <rect width="140" height="28" rx="6" fill="#60a5fa"/>
    <text x="70" y="19" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">users</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">username VARCHAR</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">email VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">password_hash TEXT</text>
    <text x="12" y="108" fill="#a0a0a0" font-family="monospace" font-size="10">created_at TIMESTAMP</text>
  </g>

  <!-- Sessions Table -->
  <g transform="translate(250, 260)" filter="url(#shadow)">
    <rect width="150" height="140" rx="6" fill="url(#tableGrad)" stroke="#f472b6" stroke-width="2"/>
    <rect width="150" height="28" rx="6" fill="#f472b6"/>
    <text x="75" y="19" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">sessions</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">user_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">bot_id UUID FK</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">started_at TIMESTAMP</text>
    <text x="12" y="108" fill="#a0a0a0" font-family="monospace" font-size="10">last_active TIMESTAMP</text>
    <text x="12" y="123" fill="#a0a0a0" font-family="monospace" font-size="10">kb_id UUID FK</text>
  </g>

  <!-- Messages Table -->
  <g transform="translate(460, 260)" filter="url(#shadow)">
    <rect width="150" height="130" rx="6" fill="url(#tableGrad)" stroke="#fbbf24" stroke-width="2"/>
    <rect width="150" height="28" rx="6" fill="#fbbf24"/>
    <text x="75" y="19" text-anchor="middle" fill="#1a1a2e" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">messages</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">session_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">role VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">content TEXT</text>
    <text x="12" y="108" fill="#a0a0a0" font-family="monospace" font-size="10">timestamp TIMESTAMP</text>
  </g>

  <!-- Knowledge Base Table -->
  <g transform="translate(460, 90)" filter="url(#shadow)">
    <rect width="160" height="120" rx="6" fill="url(#tableGrad)" stroke="#a78bfa" stroke-width="2"/>
    <rect width="160" height="28" rx="6" fill="#a78bfa"/>
    <text x="80" y="19" text-anchor="middle" fill="#ffffff" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">kb_collections</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">bot_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">name VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">vector_config JSONB</text>
  </g>

  <!-- Tools Table -->
  <g transform="translate(680, 90)" filter="url(#shadow)">
    <rect width="150" height="120" rx="6" fill="url(#tableGrad)" stroke="#22d3d1" stroke-width="2"/>
    <rect width="150" height="28" rx="6" fill="#22d3d1"/>
    <text x="75" y="19" text-anchor="middle" fill="#1a1a2e" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">basic_tools</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">bot_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">name VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">definition JSONB</text>
  </g>

  <!-- Files Table -->
  <g transform="translate(680, 280)" filter="url(#shadow)">
    <rect width="150" height="130" rx="6" fill="url(#tableGrad)" stroke="#fb923c" stroke-width="2"/>
    <rect width="150" height="28" rx="6" fill="#fb923c"/>
    <text x="75" y="19" text-anchor="middle" fill="#1a1a2e" font-family="system-ui, sans-serif" font-size="12" font-weight="bold">files</text>
    <text x="12" y="48" fill="#a0a0a0" font-family="monospace" font-size="10">id UUID PK</text>
    <text x="12" y="63" fill="#a0a0a0" font-family="monospace" font-size="10">kb_id UUID FK</text>
    <text x="12" y="78" fill="#a0a0a0" font-family="monospace" font-size="10">path VARCHAR</text>
    <text x="12" y="93" fill="#a0a0a0" font-family="monospace" font-size="10">mime_type VARCHAR</text>
    <text x="12" y="108" fill="#a0a0a0" font-family="monospace" font-size="10">size INTEGER</text>
  </g>

  <!-- Relationship Lines -->
  <!-- Org to Bots -->
  <line x1="190" y1="140" x2="250" y2="140" stroke="#e94560" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="190" cy="140" r="4" fill="#e94560"/>
  <text x="195" y="132" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="9">1:N</text>

  <!-- Bots to KB -->
  <line x1="390" y1="150" x2="460" y2="150" stroke="#4ade80" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="390" cy="150" r="4" fill="#4ade80"/>

  <!-- Bots to Tools -->
  <path d="M390 130 Q425 100 460 130" stroke="#4ade80" stroke-width="2" stroke-dasharray="5,3" fill="none"/>

  <!-- Users to Sessions -->
  <line x1="190" y1="345" x2="250" y2="330" stroke="#60a5fa" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="190" cy="345" r="4" fill="#60a5fa"/>
  <text x="195" y="360" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="9">1:N</text>

  <!-- Sessions to Messages -->
  <line x1="400" y1="330" x2="460" y2="330" stroke="#f472b6" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="400" cy="330" r="4" fill="#f472b6"/>
  <text x="415" y="322" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="9">1:N</text>

  <!-- Bots to Sessions -->
  <line x1="320" y1="210" x2="320" y2="260" stroke="#4ade80" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="320" cy="210" r="4" fill="#4ade80"/>

  <!-- KB to Files -->
  <line x1="620" y1="150" x2="680" y2="310" stroke="#a78bfa" stroke-width="2" stroke-dasharray="5,3"/>
  <circle cx="620" cy="150" r="4" fill="#a78bfa"/>

  <!-- Legend -->
  <g transform="translate(50, 450)">
    <text x="0" y="0" fill="#ffffff" font-family="system-ui, sans-serif" font-size="11" font-weight="bold">Legend:</text>
    <circle cx="80" cy="-4" r="4" fill="#e94560"/>
    <text x="90" y="0" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="10">One-to-Many</text>
    <line x1="170" y1="-4" x2="200" y2="-4" stroke="#a0a0a0" stroke-width="2" stroke-dasharray="5,3"/>
    <text x="210" y="0" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="10">Foreign Key</text>
    <text x="300" y="0" fill="#a0a0a0" font-family="system-ui, sans-serif" font-size="10">PK = Primary Key | FK = Foreign Key</text>
  </g>
</svg>
